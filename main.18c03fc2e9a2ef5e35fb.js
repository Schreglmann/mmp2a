!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=19)}([function(e,t,n){e.exports=n.p+"images/logo.svg"},function(e,t,n){e.exports=n.p+"images/help.svg"},function(e,t,n){e.exports=n.p+"images/main_button.svg"},function(e,t,n){e.exports=n.p+"images/facebook.svg"},function(e,t,n){e.exports=n.p+"images/twitter.svg"},function(e,t,n){e.exports=n.p+"images/dots.svg"},function(e,t,n){e.exports=n.p+"images/spotify.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var o=Object.keys;function l(e){return"string"==typeof e}function i(e){return"object"==typeof e?null!==e:a(e)}function a(e){return"function"==typeof e}function u(e){return Array.isArray(e)?e.map(u).filter(Boolean).join(" "):i(e)?o(e).filter(function(t){return e[t]}).join(" "):function(e){return!function(e){return"boolean"==typeof e}(e)&&null!=e}(e)?""+e:""}function s(e,t){for(var n,u=[],s=2;s<arguments.length;s++)u[s-2]=arguments[s];return t=t||{},l(e)?(function(e,t){for(var n=0,r=o(e);n<r.length;n++){var l=r[n];p(l,e[l],t)}}(t,n=t.namespaceURI?document.createElementNS(t.namespaceURI,e):document.createElement(e)),f(u,n)):a(e)&&(n=e(r({},t,{children:u}))),!function(e){return i(e)&&"current"in e}(t.ref)?a(t.ref)&&t.ref(n):t.ref.current=n,n}function c(e,t){!function(e){return i(e)&&"number"==typeof e.length&&"number"!=typeof e.nodeType}(e)?l(e)||function(e){return"number"==typeof e}(e)?t.appendChild(document.createTextNode(e)):null===e?t.appendChild(document.createComment("")):function(e){return e&&"number"==typeof e.nodeType}(e)&&t.appendChild(e):f(e,t)}function f(e,t){for(var n=0,r=e;n<r.length;n++){c(r[n],t)}return t}function p(e,t,n){switch(e){case"dataset":for(var l=0,s=o(t||{});l<s.length;l++){var c=s[l],f=t[c];null!=f&&(n.dataset[c]=f)}return;case"innerHTML":case"innerText":case"textContent":return void(n[e]=t);case"spellCheck":return void(n.spellcheck=t);case"class":case"className":return void n.setAttribute("class",u(t));case"ref":case"namespaceURI":return;case"style":if(i(t))return void r(n.style,t)}a(t)?"o"===e[0]&&"n"===e[1]&&function(e,t,n){e.addEventListener(t,n)}(n,e.slice(2).toLowerCase(),t):!0===t?n.setAttribute(e,""):!1!==t&&null!=t&&n.setAttribute(e,t)}n(7),n(8);var d=n(0),m=n.n(d),b=n(1),g=n.n(b);function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var h=function(e){e.preventDefault(),history.pushState({},"",e.currentTarget.href)},v=function(e){var t=e.children,n=y(e,["children"]);return s("a",{href:n.to,className:n.className,onClick:h},t)},w=!1,O=function(){event.preventDefault,document.querySelector("main").classList.toggle("footer_visible"),w=!w},j=function(){return s("header",null,s("div",null),s("h1",null,s(v,{to:"/"},s("img",{className:"main-logo",src:m.a,alt:"Musicr"}))),s("button",{className:"button",onClick:O},s("img",{src:g.a,alt:"Help"})," Help"))},k=(n(9),n(2)),S=n.n(k),x=function(){document.querySelector("body").classList.add("listening")},P=function(){return s("button",{className:"main-button",onClick:x},s("img",{src:S.a,alt:"Click to start"}),s("div",{className:"horizontal-line"}),s("p",null,"listen"))},M=function(){document.querySelector("body").classList.remove("listening")},N=function(){return s("section",{className:"background fullscreen main-screen"},s(P,null),s("a",{href:"#song_history",className:"bottom-notice"},"previously listened"),s("button",{className:"cancel_button",onClick:M},"cancel"),s("div",{id:"waves"}))},_=(n(10),n(11),n(3)),C=n.n(_),I=n(4),T=n.n(I),U=n(5),E=n.n(U),L=(n(12),function(e){e.currentTarget.classList.toggle("social_media_visible")}),A=function(){return s("div",{class:"social_media",onClick:L},s("button",{"aria-label":"Open Social Media Field"},s("img",{src:E.a,alt:"Open Button"})),s("ul",null,s("li",null,s("a",{href:"https://twitter.com"},s("img",{src:T.a,alt:"Twitter"}))),s("li",null,s("a",{href:"https://facebook.com"},s("img",{src:C.a,alt:"Facebook"})))))},z=n(6),G=n.n(z),q=(n(13),function(){return s("a",{href:"#",class:"spotify_btn"},s("img",{src:G.a,alt:"Spotify"}),s("p",null,"Open"))});function H(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var B=function(e){e.children;var t=H(e,["children"]);return s("li",{className:"mediabox"},s(v,{to:"/song"},s("img",{src:"https://placehold.it/500/500",alt:"Lorempixel"})),s("div",null,s("h3",null,t.title),s("h4",{className:"artist"},t.artist),s("h4",{className:"album"},t.album),s(q,null),s(A,null),s(v,{to:"/song",className:"more_btn"},"Show me more")))},D=[{title:"Make my bunga bunga!",artist:"Benjamin Joham",album:"Who the Fuck is Benny J?"},{title:"Babel Config",artist:"Luca Pircher",album:"ES6 Hits 2015"}],F=function(){return s("section",{class:"song_history",id:"song_history"},s("h2",null,"Previously listened:"),D.map(function(e){return s(B,{title:e.title,artist:e.artist,album:e.album})}))};function R(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var J=function(e){e.preventDefault,e.currentTarget.classList.remove("footer_visible")},W=function(e){e.children,R(e,["children"]);return s("main",{onClick:J},s(N,null),s(F,null))},Y=function(){return s("main",{class:"site background fullscreen"},s("h2",null,"Page not Found"))},K=function(e){return new Promise(function(t){var n=e.data,r=new FormData;r.append("file",n),$.ajax({url:"https://musicr.schreglmann.at/api.php",dataType:"json",cache:!1,contentType:!1,processData:!1,data:r,type:"post",success:function(e){console.log("success"),Q(e).then(function(e){t(e)})},error:function(){console.log("Something went wrong")}})})},Q=function(e){return new Promise(function(t){var n={title:null,artist:null,album:null,spotify:null,youtubeid:null,genre:null,youtube:null,lyrics:null};try{n.title=e.metadata.music[0].title}catch(e){n[0]=null}try{n.artist=e.metadata.music[0].artists[0].name}catch(e){n[1]=null}try{n.album=e.metadata.music[0].album.name}catch(e){n[2]=null}try{n.spotify=e.metadata.music[0].external_metadata.spotify.track.id}catch(e){n[3]=null}try{n.youtubeid=e.metadata.music[0].external_metadata.youtube.vid}catch(e){n[4]=null}try{n.genre=e.metadata.music[0].genres[0].name}catch(e){n[5]=null}null==n.youtubeid?n.youtube=null:n.youtube="https://www.youtube.com/watch?v=".concat(n.youtubeid),V(n.youtubeid).then(function(e){n.lyrics=e}).catch(function(){n.lyrics=null}).finally(function(){t(n)})})},V=function(e){return new Promise(function(t){$.ajax({url:"https://musicdemons.com/api/v1/song/by-youtube-id/".concat(e,"/lyrics"),dataType:"text",type:"get",success:function(e){t(e)},error:function(){console.log("No Lyrics available"),t(null)}})})};n(14);function X(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Z=function(e){e.children;var t=X(e,["children"]);return s("section",{class:"song"},s("img",{src:"https://placehold.it/500",alt:""}),s("h2",null,t.title),s("h3",{class:"artist"},t.artist),s("h3",{class:"album"},t.album),s(q,null),s(A,null))};function ee(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var te=function(e){e.children;var t,n=ee(e,["children"]);return"past"==n.tense?t="were listening":"present"==n.tense?t="are listening":"future"==n.tense?t=" are going to listen":"perfect"==n.tense&&(t="have been listening"),s("section",null,s("p",{class:"song_header"},"You ",t," to",s("strong",null,s("span",{class:"nobreak"}," ",n.artist),"'s",s("span",{class:"nobreak"}," ",n.song)),"."))};n(15),n(16);function ne(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var re=function(e){e.children;var t=ne(e,["children"]);return s("section",null,s("h2",null,"Lyrics:"),s("p",{class:"lyrics"},t.lyrics))};function oe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var le=function(e){e.children,oe(e,["children"]);var t=localStorage.getItem("currentSong");return t=JSON.parse(t),s("main",{className:"site fullscreen background"},s(te,{artist:t.artist,title:t.title,tense:"future"}),s(Z,{artist:t.artist,title:t.title,album:t.album}),s(re,{lyrics:t.lyrics}))};n(17);function ie(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ae=function(e){e.children,ie(e,["children"]);return s("footer",null,s("p",null,"Musicr.io is the first* online music recognition software. It helps you find out what song your currently listening to and can even recognize you humming your favourite songs. Musicr.io equips you with all the important information including songtitle, artist, album and lyrics."),s("p",null,"Simply click the big orange button!"),s("p",null,"Musicr.io is being developed by Georg Schreglmann and Niklas Noldin at the University of Applied Sciences Salzburg."),s("p",null,s(v,{to:"/imprint",className:"underline"},"imprint"),"|",s(v,{to:"/data_protection",className:"underline"},"data protection info")),s("p",{className:"small_text"},"* It's probably not the first one, but it's cool."))},ue=(n(18),function(){return s("main",{class:"site fullscreen background"},s("section",{class:"legal"},s("h2",null,"Imprint"),s("p",null,"Information in accordance with Section 5 TMG",s("br",null),s("br",null),"Urstein-Süd 3-5",s("br",null),"520",s("br",null),"5412 Puch bei Hallein",s("br",null),s("h3",null,"Contact Information"),"Telephone: +43 664 1459315",s("br",null),"E-Mail:"," ",s("a",{href:"mailto:nnoldin.mmt-b2017@fh-salzburg.ac.at"},"nnoldin.mmt-b2017@fh-salzburg.ac.at"),s("br",null),"Internet address:"," ",s("a",{href:"www.niklasnold.in",target:"_blank"},"www.niklasnold.in"),s("br",null),s("h3",null,"Graphics and Image Sources"),"www.spotify.com",s("br",null),s("br",null),s("h3",null,"Disclaimer"),"Accountability for content",s("br",null),"The contents of our pages have been created with the utmost care. However, we cannot guarantee the contents' accuracy, completeness or topicality. According to statutory provisions, we are furthermore responsible for our own content on these web pages. In this matter, please note that we are not obliged to monitor the transmitted or saved information of third parties, or investigate circumstances pointing to illegal activity. Our obligations to remove or block the use of information under generally applicable laws remain unaffected by this as per §§ 8 to 10 of the Telemedia Act (TMG).",s("br",null),s("br",null),"Accountability for links",s("br",null),"Responsibility for the content of external links (to web pages of third parties) lies solely with the operators of the linked pages. No violations were evident to us at the time of linking. Should any legal infringement become known to us, we will remove the respective link immediately.",s("br",null),s("br",null),"Copyright",s("br",null)," Our web pages and their contents are subject to German copyright law. Unless expressly permitted by law, every form of utilizing, reproducing or processing works subject to copyright protection on our web pages requires the prior consent of the respective owner of the rights. Individual reproductions of a work are only allowed for private use. The materials from these pages are copyrighted and any unauthorized use may violate copyright laws.")))}),se=function(){return s("main",{class:"site fullscreen background"},s("section",{class:"legal"},s("h2",null,"We have the world's greatest privacy policy:"),s("p",null,"We don’t store your data, period.")))},ce=function(e){e=e.indexOf("?")>=0?e.substring(e.indexOf("/",7),e.indexOf("?")):e.substring(e.indexOf("/",7));var t=document.getElementById("root");switch(t.innerHTML="",t.appendChild(s(j,null)),e){case"/":t.appendChild(s(W,null));break;case"/song":t.appendChild(s(le,null));break;case"/imprint":t.appendChild(s(ue,null));break;case"/data_protection":t.appendChild(s(se,null));break;default:t.appendChild(s(Y,null))}t.appendChild(s(ae,null))};window.addEventListener("popstate",function(e){ce(window.location.pathname)},!1),function(e){var t=e.pushState;e.pushState=function(n,r,o){return"function"==typeof e.onpushstate&&e.onpushstate({state:n,title:r,path:o}),t.apply(e,arguments)}}(window.history),history.onpushstate=function(e){ce(e.path)},ce(window.location.pathname),new Promise(function(e){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var t=document.querySelector(".main-button");navigator.getUserMedia?(console.log("getUserMedia supported."),navigator.getUserMedia({audio:!0},function(n){var r=new MediaRecorder(n),o=!1;t.onclick=function(){o||(r.start(),console.log(r.state),o=!0,setTimeout(function(){r.stop(),o=!1},1e4))},r.ondataavailable=function(t){console.log("data available"),K(t).then(function(t){e(t)})}},function(e){console.log("The following gUM error occured: "+e)})):console.log("getUserMedia not supported on your browser!")}).then(function(e){localStorage.setItem("currentSong",JSON.stringify(e)),console.log(e),document.querySelector("body").classList.remove("listening"),history.pushState({},"","/song")})}]);